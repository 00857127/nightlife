<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>

<head>
    <title>sidebox</title>
    <meta charset="utf-8" />
    <style type="text/css">
    	body {font-family:微軟正黑體,Helvetica;}
        td {padding-left:20px;padding-bottom:15px;}
    </style>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"> 
     <script type="text/javascript">
	
	</script>
</head>


<body>
    <div style="position:absolute;top:0px;left:0;float:left;z-index:3;width:40%;">
    <h1>今天要去哪裡？</h1>
    <p>今天晚天要去哪？又沒有意見？</p>
    <p>就讓"今天去哪裡？"幫你抽出一個夜點讓今晚今晚星閃閃</br></p>
    <button style="font-size:40px;background-color:lightpink; color: white;border: none;" onclick="get()">抽一個吧</button>
    </div>

    <div id="body"style="position:absolute; top:260px;"><p id="list"></p></div>
    <div id="foooter"></div>

	 <script type="text/javascript">
     function get(){
     var choose=Math.floor((Math.random() * 5));
     var random=0;
     var name="nightmarket";
     var jsonUrl = "https://j29718830.github.io/taiwannight/nightmarket.json";

    switch(choose) {
    case 0:
        jsonUrl = "https://j29718830.github.io/taiwannight/club.json";
        random=Math.floor((Math.random() * 5));
        name="club";
        break;
    case 1:
        jsonUrl = "https://j29718830.github.io/taiwannight/pub.json";
        random=Math.floor((Math.random() * 19));
        name="pub";
        break;
    case 2:
        jsonUrl = "https://j29718830.github.io/taiwannight/KTV.json";
        random=Math.floor((Math.random() * 47));
        name="ktv";
        break;
    case 3:
        jsonUrl = "https://j29718830.github.io/taiwannight/other.json";
        random=Math.floor((Math.random() * 2));
        name="other";
        break;
    case 4:
        jsonUrl = "https://j29718830.github.io/taiwannight/nightmarket.json";
        random=Math.floor((Math.random() * 48));
        name="nightmarket";
        break;
        }
	
	var content="<table>";
        $.getJSON(jsonUrl, function(data) {
            var i=random;
			var element="<tr><td width="+"35%"+"><a href="+name+"/"+i+".jpg"+" target="+"_blank"+"><img width="+"100%"+" src="+name+"/"+i+".jpg"+"></a></td><td><h3>"+data[i].name+"</h3><p>營業時間："+data[i].time+"</p><p>地址："+data[i].address+"</p><p>簡介：</br>"+data[i].introduction+"</p><p></br></p></td></tr>";
			content=content.concat(element);
            content=content.concat("</table>");
            document.getElementById("list").innerHTML=content;
        });
    }  
	</script>


</body>

</html>